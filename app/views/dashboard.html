

<header class="header-user-dropdown">

	<div class="header-limiter">
  <div class="header-left-blocks">
    <img  ng-src="images/ghmc1.png" alt="GHMC" />
  </div>
  <div class="header-left-blocks" style="border-color: white;padding-left: 5px">
    <span style="line-height:60px;font-size: 24px "><b>Smart Citizen</b></span>
  </div>
	<!-- <img  ng-src="images/ghmc.gif" alt="GHMC" /> -->

		<!--<nav>
			<a href="#">Overview</a>
			<a href="#">Surveys</a>
			<a href="#">Reports</a>
			<a href="#">Roles <span class="header-new-feature">new</span></a>
		</nav>-->


		<div class="header-user-menu">
		<h3><b>Admin</b></h3>
			<img  ng-src="images/ghmc.gif" alt="GHMC" />

			<ul>
				<li><a href="">Settings</a></li>
				
				<li> <a  href="" ng-click="signout()" class="highlight">Logout </a></li>
        <!-- <li><a href="" class="highlight">Logout</a></li> -->
			</ul>
		</div>

	</div>

</header>
<div class="container-fluid">
<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">{{event.name}}</h4>
            </div>
            <div class="modal-body">
                <form name="myForm" class="form-horizontal">
                    <div class="form-group">
                        <label class="control-label1 col-md-4">Issue Description</label>
                        <div class="col-md-8">

                        {{event.extras.grievance_description}}
                            <!-- <input type="text" class="form-control" ng-model="event.extras.grievance_description" disabled> -->
                        </div>
                    </div>

                    <div class="form-group" id="images">
                        <label class="control-label1 col-md-4" for="name">Issue Images</label>

                        <div class="col-md-12" ng-repeat="imageDoc in imagesDoc">
                            <img style="max-height:300px;width:100%;padding: 10px 0px" ng-src={{imageDoc.url}} alt="Nature" style="width:100%;margin:5px">
                        </div>

                    </div>
                    <div class="form-group" ng-show="event.extras.joined_members_count!=0">
                    <div class="row">
   <!-- <div class="col-md-12 box-blocks"> -->
        <!-- <div class="control-label1 col-md-4"> -->
  <!-- <h4>Volunteers</h2> -->
   <div class="col-md-12" style="padding: 0px 30px;">         
  <table class="table">
    <thead>
      <tr>
        <th>Volunteer Name</th>
        <th>Email</th>
        <th>Points</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in Users">
        <td>{{user.name}}</td>
        <td>{{user.email}}</td>
        <td>{{user.points}}</td>
      </tr>
      
    </tbody>
  </table>
</div>
    <!-- </div> -->
   <!-- </div> -->
  </div>
  </div>

                    <div class="form-group" ng-class="{ 'has-error': myForm.member.$dirty && myForm.member.$error.required }">
                        <label class="control-label1 col-md-4" for="members">Members Required</label>
                        <div class="col-md-8">
                            <input type="text" name="member" class="form-control" ng-model="event.extras.members_required" placeholder="Enter number" ng-pattern="regex" required>
                            <span ng-show="myForm.member.$dirty && myForm.member.$error.required" class="help-block">Members number is required</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label1 col-md-4" for="date">Start Date</label>
                        <div class="col-md-8">
                            <input type="date" class="form-control" ng-model="event.start"  placeholder="Enter Date">
                        </div>
                    </div>
                     <div class="form-group">
                        <label class="control-label1 col-md-4" for="status">Change Status</label>
                        <div class="col-md-8">
                        <select class="form-control" id="status" ng-model="event.status">
                            <option value="Approved">Approved</option>
                            <option value="Rejected">Rejected</option>
                            <option value="Closed">Closed</option>
                            <option value="Started" disabled>Started</option>
                            <option value="Submitted" disabled>Submitted</option>
                            <option value="Created" disabled>Created</option>
                        </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-4">
                            <button  ng-disabled="myForm.$invalid" type="submit" ng-click="updateEvent(event)" class="btn btn-submit">Submit</button>
                        </div>
                        <div class="col-sm-2">
                            <button type="button" class="btn btn-submit" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<!-- end Modal -->
<div class="row">
  <div class="col-md-8">
  
   <div class="row">
   <div class="col-md-12" >
   <div class="dashboard-block">
   <div class="row">
   <div class="col-md-12" >
    <h4><b>Grievances Summary</b></h4>
    </div>
   </div>
  
  <div class="row">

         <div class="col-md-2 col-md-offset-1">
         
          <!-- <div class="info-box linkStyle" ng-click="getEventFilter('Submitted')"  ng-class="{eventFilter : 'Submitted' === selectedFilterStatus}"> -->
          <!-- <div class="info-box"> -->
          
            <!-- <span class="info-box-icon bg-red"></span> -->

            <div class="info-box bg-orange" ng-click="getEventFilter('Submitted')"  ng-class="{eventFilter : 'Submitted' === selectedFilterStatus}"><center>
                <span class="info-box-text">Submitted</span>
                <span class="info-box-number">{{Submitted}}</span>    
            </center>
            </div>
            <!-- /.info-box-content -->
          <!-- </div> -->
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
        <div class="col-md-2">
          <!-- <div class="info-box linkStyle" ng-click="getEventFilter('Upcoming')"  ng-class="{eventFilter : 'upcoming' === selectedFilterStatus}"> -->
          <div class="info-box bg-green" ng-click="getEventFilter('Approved')"  ng-class="{eventFilter : 'Approved' === selectedFilterStatus}">
            <!-- <span class="info-box-icon bg-aqua"><i class="fa fa-envelope-o"></i></span> -->

            <!-- <div class="info-box-content"> -->
            <center>
              <span class="info-box-text">Approved</span>
              <span class="info-box-number">{{Approved}}</span>
              </center>
            <!-- </div> -->
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
        <div class="col-md-2">
          <!-- <div class="info-box linkStyle" ng-click="getEventFilter('Approved')"  ng-class="{eventFilter : 'Approved' === selectedFilterStatus}"> -->
          <div class="info-box bg-blue" ng-click="getEventFilter('Created')"  ng-class="{eventFilter : 'Created' === selectedFilterStatus}">
            <!-- <span class="info-box-icon bg-green"><i class="fa fa-flag-o"></i></span> -->

            <!-- <div class="info-box-content"> -->
            <center>
              <span class="info-box-text">Pending</span>
              <span class="info-box-number">{{Pending}}</span>
              </center>
            <!-- </div> -->
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
        <div class="col-md-2">
          <!-- <div class="info-box linkStyle" ng-click="getEventFilter('Rejected')"  ng-class="{eventFilter : 'Rejected' === selectedFilterStatus}"> -->
          <div class="info-box bg-red" ng-click="getEventFilter('Rejected')"  ng-class="{eventFilter : 'Rejected' === selectedFilterStatus}">
            <!-- <span class="info-box-icon bg-yellow"><i class="fa fa-files-o"></i></span> -->
            <center>
            <!-- <div class="info-box-content"> -->
              <span class="info-box-text">Rejected</span>
              <span class="info-box-number">{{Rejected}}</span>
              </center>
            <!-- </div> -->
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
        <div class="col-md-2">
          <!-- <div class="info-box linkStyle" ng-click="getEventFilter('Rejected')"  ng-class="{eventFilter : 'Rejected' === selectedFilterStatus}"> -->
          <div class="info-box bg-black" ng-click="getEventFilter('Closed')"  ng-class="{eventFilter : 'Closed' === selectedFilterStatus}">
            <!-- <span class="info-box-icon bg-yellow"><i class="fa fa-files-o"></i></span> -->
            <center>
            <!-- <div class="info-box-content"> -->
              <span class="info-box-text">Closed</span>
              <span class="info-box-number">{{Closed}}</span>
              </center>
            <!-- </div> -->
            <!-- /.info-box-content -->
          </div>
          <!-- /.info-box -->
        </div>
        
      </div>
      <br>
       <!--  <div class="box-blocks" id="map">
      	<b>Map View Here</b>
    </div> -->
    </div>
   </div>
 
  
   <div class="col-md-12">
   <div class="dashboard-block" style="height:606px">

     <hc-chart style="width:63%;border-radius: 2px;height:75%" options="chartOptions">Placeholder for generic chart</hc-chart>
   </div>
   </div>
    
  
 
  	
  </div>
</div>
  <div class="col-md-4">
  	
    <div class="row">
     <div class="col-md-12 dashboard-block" >
     <!-- <ul><li ng-repeat="e in pieData">{{e}}</li></ul> -->
     <!-- <hc-pie-chart title="Browser usage" data="pieData">Placeholder for pie chart</hc-pie-chart> -->
      <!-- <button ng-click="update()">click to update chart</button> -->
     
     <highchart style= "width: 30%" id="chart1" config="chartConfig" class="span10"></highchart>
     
    </div>
  </div>
     <div class="row">
     <div class="col-md-12 box-blocks" id="map">
    </div>
  </div>
 
</div>
 
  <div id='bottom' class="col-md-12">
  <div class="row" style="padding-left: 15px">
    
    <div class="col-md-12 dashboard-block">
   <form class="form-inline" style="line-height: 50px;">
    <span style="font-size: 20px;"><b>{{EventText=='Created Grievances'?'Pending Grievances':EventText}}</b></span>
     <div class="form-group" style="position: absolute;right: 20px;top: 10px">
            
                        <select class="form-control col-sm-2" ng-model="searchFish" >
                        <option value="" selected>Location</option>
                        <option ng-repeat="filterevent in filteredEvents | unique:'extras.grievance_location'" value={{filterevent.extras.grievance_location}}>{{filterevent.extras.grievance_location}}</option>
                          
                        </select>
                        </div>
                        <div class="form-group" style="position: absolute;right: 250px;top: 10px">
                         <select class="form-control col-sm-2" ng-model="selectedItem" ng-change="getEventFilter(selectedItem)">
                        <option value="" selected>Status</option>
                        <!-- <option value="Upcoming" >Upcoming</option> -->
                         <option value="Created" >Pending</option>
                         <option value="Approved" >Approved</option>
                         <option value="Rejected" >Rejected</option>
                         <option value="Submitted" >Submitted</option>
                         <option value="Closed" >Closed</option> 
                        </select>
                        </div>
       </form>                 
  
  <table class="table table-hover table-striped">
    <thead>
      <tr>
        <td>
          <a href="" ng-click="sortType = 'created'; sortReverse = !sortReverse"  style="font-size: 15px">
            <b>Post Date</b>
            <span ng-show="sortType == 'created' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'created' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
          <a href="" ng-click="sortType = 'start'; sortReverse = !sortReverse" style="font-size: 15px">
            <b>Event Date</b>
            <span ng-show="sortType == 'start' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'start' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
          <a href="" ng-click="sortType = 'userId'; sortReverse = !sortReverse" style="font-size: 15px">
            <b>Posted By</b>
            <span ng-show="sortType == 'userId' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'userId' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
          <a href="" ng-click="sortType = 'extras.grievance_type'; sortReverse = !sortReverse" style="font-size: 15px">
            <b>Issue Type</b>
            <span ng-show="sortType == 'extras.grievance_type' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'extras.grievance_type' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
          <a href="" ng-click="sortType = 'extras.grievance_location'; sortReverse = !sortReverse" style="font-size: 15px">
           <b>Location</b>
            <span ng-show="sortType == 'extras.grievance_location' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'extras.grievance_location' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
          <a href="" ng-click="sortType = 'extras.members_required'; sortReverse = !sortReverse" style="font-size: 15px">
           <b>Volunteers Required</b>
            <span ng-show="sortType == 'extras.members_required' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'extras.members_required' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
          <a href="" ng-click="sortType = 'extras.joined_members_count'; sortReverse = !sortReverse" style="font-size: 15px">
           <b>Volunteers Joined</b>
            <span ng-show="sortType == 'extras.joined_members_count' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'extras.joined_members_count' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
          <a href="" ng-click="sortType = 'status'; sortReverse = !sortReverse" style="font-size: 15px">
          <b>Status</b>
            <span ng-show="sortType == 'status' && !sortReverse" class="fa fa-caret-down"></span>
            <span ng-show="sortType == 'status' && sortReverse" class="fa fa-caret-up"></span>
          </a>
        </td>
        <td>
        </td>
      </tr>
    </thead>
    <tbody>
      <tr ng-click="setSelected(event.id)" class="linkStyle" ng-class="{selected : event.id === selectedValue}" ng-repeat="event in filteredEvents | orderBy:sortType:sortReverse | filter:searchFish">
        <td>{{event.created | date:'yyyy-MM-dd'||'  ---'}}</td>
        <td><span ng-if="(event.status!='Created')&&(event.status!='Rejected') ">{{event.start | date:'yyyy-MM-dd'}}</span><span ng-if="(event.status=='Created')||(event.status=='Rejected')">---</span> </td>
        <td>{{userNamesMap[event.userId]}} </td>
        <td>{{ event.extras.grievance_type ||'  ---'}}</td>
        <td>{{ event.extras.grievance_location}}</td>
        <td>{{ event.extras.members_required ||'  ---'}}</td>
        <td>{{ event.extras.joined_members_count||'  ---' }}</td>
        <td><span ng-if="(event.status=='Created')" ng-class="event.status=='Created' ? 'blue' : black" >Pending</span><span ng-if="(event.status!='Created') " ng-class="event.status=='Created' ? 'blue' : event.status==='Approved' ? 'green' : event.status==='Rejected' ? 'red' : event.status==='Submitted' ? 'orange' : event.status==='Closed' ? 'black': 'black'">{{ event.status ||'  ---'}}</span></td>
       <td> <button data-toggle="modal" data-target="#myModal" ng-click="selectedEvent(event)" class="btn mini blue-stripe">Edit</button></td>
      </tr>
    </tbody>
    
  </table>
 </div>
  
 </div>
  </div>
  
</div>